<mat-dialog-content class="dialog">
    <h1 class="login-title" mat-dialog-title>Login</h1>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <br>
        <mat-form-field class="login-field">
            <mat-label>Email Address</mat-label>
            <input matInput formControlName="email" autofocus required>
            @if (loginForm.get('email')?.hasError('email') && !loginForm.get('email')?.hasError('required')) {
                <mat-error>Please enter a valid email address.</mat-error>
            }
            @if (loginForm.get('email')?.hasError('required')) {
                <mat-error>Email is <strong>required</strong>.</mat-error>
            }
        </mat-form-field>
        <mat-form-field class="login-field">
            <mat-label>Password</mat-label>
            <input matInput #pinput 
                minlength="6" 
                maxlength="25" 
                type="password" 
                formControlName="password"
                    [type]="hide ? 'password' : 'text'" required>
            <button mat-icon-button matSuffix 
                (click)="hide = !hide" 
                [attr.aria-label]="'Hide password'" 
                [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            @if (loginForm.get('password')?.hasError('minlength') && !loginForm.get('password')?.hasError('required')) {
                <mat-error>Password should be of length between 6 and 25.</mat-error>
            }
            @if (loginForm.get('password')?.hasError('required')) {
                <mat-error>Password is <strong>required</strong>.</mat-error>
            }
        </mat-form-field>
        <br><br>
        <div class="dialog-buttons">
            <button mat-button color="accent" type="submit" (click)="buttonCLicked = 'ForgotPassword'">Forgot Password</button>
            <button mat-raised-button color="primary" type="submit" (click)="buttonCLicked = 'Login'">Login</button>
        </div>
    </form>
</mat-dialog-content>